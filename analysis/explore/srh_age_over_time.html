<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Christine L. Kuryla">

<title>SRH-Age Over Time Phenomenon</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="srh_age_over_time_files/libs/clipboard/clipboard.min.js"></script>
<script src="srh_age_over_time_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="srh_age_over_time_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="srh_age_over_time_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="srh_age_over_time_files/libs/quarto-html/popper.min.js"></script>
<script src="srh_age_over_time_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="srh_age_over_time_files/libs/quarto-html/anchor.min.js"></script>
<link href="srh_age_over_time_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="srh_age_over_time_files/libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="srh_age_over_time_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="srh_age_over_time_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="srh_age_over_time_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="srh_age_over_time_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="srh_age_over_time_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="srh_age_over_time_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="srh_age_over_time_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="srh_age_over_time_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="srh_age_over_time_files/libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="srh_age_over_time_files/libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/selectize-0.12.0/selectize.min.js"></script>
<link href="srh_age_over_time_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="srh_age_over_time_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#srh-age-relationship-over-time" id="toc-srh-age-relationship-over-time" class="nav-link active" data-scroll-target="#srh-age-relationship-over-time">SRH-Age Relationship over Time</a></li>
  <li><a href="#srh-per-age-group-over-time-figures-and-tables" id="toc-srh-per-age-group-over-time-figures-and-tables" class="nav-link" data-scroll-target="#srh-per-age-group-over-time-figures-and-tables">SRH per age group over time (figures and tables)</a>
  <ul class="collapse">
  <li><a href="#nhis" id="toc-nhis" class="nav-link" data-scroll-target="#nhis">NHIS</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="srh_age_over_time.md"><i class="bi bi-file-code"></i>Github (GFM)</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">SRH-Age Over Time Phenomenon</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Christine L. Kuryla </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="srh-age-relationship-over-time" class="level1">
<h1>SRH-Age Relationship over Time</h1>
<p><strong>Purpose</strong>: Determine the relationship between age and SRH (Self-Rated Health) over time using six datasets.</p>
<p><strong>Data</strong>: NHIS, BRFSS, MEPS, CPS, NHANES, GSS</p>
<p><strong>Outputs</strong>: Visualizations and tables of:</p>
<ol type="1">
<li><p>Weighted mean SRH by age group over time.</p></li>
<li><p>Weighted regression results showing the relationship between age and SRH over time for different age groups.</p></li>
</ol>
<section id="load-packages-and-source-functions" class="level4">
<h4 class="anchored" data-anchor-id="load-packages-and-source-functions">Load packages and source functions</h4>
</section>
<section id="load-data" class="level4">
<h4 class="anchored" data-anchor-id="load-data">Load data</h4>
</section>
</section>
<section id="srh-per-age-group-over-time-figures-and-tables" class="level1">
<h1>SRH per age group over time (figures and tables)</h1>
<section id="nhis" class="level2">
<h2 class="anchored" data-anchor-id="nhis">NHIS</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="srh_age_over_time_files/figure-html/mean-srh-nhis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-94a86a22d374f1a850c7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-94a86a22d374f1a850c7">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;18-29&quot;,&quot;30-39&quot;,&quot;40-49&quot;,&quot;50-59&quot;,&quot;60-69&quot;,&quot;70-79&quot;,&quot;80-89&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1983\" data-max=\"2023\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2.96876936808729\" data-max=\"4.18704042375275\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.010865971013474\" data-max=\"0.04815582584315\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2.8901456443673\" data-max=\"4.15724343790816\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3.03300248712595\" data-max=\"4.21683740959734\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: left;\">Table. Self-rated health by age group and year (NHIS)<\/caption>","data":[["18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","18-29","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","30-39","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","40-49","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","50-59","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","60-69","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","70-79","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89","80-89"],[1983,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1984,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1984,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1984,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,1983,1984,1985,1987,1988,1989,1990,1991,1992,1993,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],[4.159030856280148,4.168720007546509,4.141006399647476,4.137376528075012,4.154302058613873,4.162096704642098,4.120768516294194,4.099060031000695,4.066227279560195,4.141492209963817,4.170062545637597,4.187040423752747,4.168555041373936,4.166345230367955,4.147279226693879,4.124417815600117,4.141967329057541,4.132988887340869,4.11017806678008,4.128759210229637,4.124336591775736,4.146709814399834,4.07796300774545,4.107789630531074,4.111556231220481,4.136662315622309,4.14078827656992,4.119898932717595,4.131797987845054,4.113505989131913,4.111815987850064,4.010575360657742,4.074240003448989,4.076350385988338,3.976514263085372,3.946032791397361,4.07074195340226,4.08692589315978,4.087206931682291,4.059045525426054,4.084746126788876,4.084507319168551,4.053454092121417,4.00113939914249,4.008783566979403,4.079972226676293,4.062230079998775,4.081460574442476,4.078491122419681,4.05035802165956,4.053341277695921,4.046979162424698,4.021434851641215,3.991649681497259,4.020171362631087,3.968550749573422,3.968040831198431,3.933652157056797,3.950587477094754,3.946698483262601,3.9363444392227,3.966624957969427,3.983634379583859,3.966232067513185,3.930635272455724,4.022005064598512,3.959317100430015,3.848021386084221,3.864625006682506,3.920023438850732,3.804803393210097,3.811141284984517,3.82476178032281,3.876005586689155,3.871265626120365,3.915680831084324,3.913643669991877,3.920563195159124,3.91960797941864,3.911696199558636,3.862803763287245,3.879274432410885,3.905981475990093,3.888570696073707,3.873221154191212,3.874832585207777,3.814491581237428,3.827026543148987,3.802539558472218,3.819926323822294,3.799212335432019,3.769401830530362,3.795898517035727,3.74370951061651,3.78325459847451,3.755688443949695,3.728929905338979,3.760474230721764,3.798995181937995,3.76049258340884,3.753678182018471,3.753978067096635,3.790095769725961,3.66546158634032,3.710869023997206,3.692410268523544,3.651937370249679,3.649231743126603,3.541322586988154,3.40655527124512,3.568612161099664,3.568211861196005,3.603105719872338,3.628072016282076,3.634085865259931,3.593328667919521,3.600879459939832,3.57737590873554,3.629475039342329,3.635432702045962,3.663459155907286,3.629373505966471,3.585740278676341,3.593981095641431,3.57617435021331,3.579246465383131,3.594034942647101,3.555308327127352,3.543655539632359,3.548834772868635,3.561369352217411,3.525768316528102,3.536796678180114,3.57119168697545,3.491052275572718,3.551881674065812,3.541641599488461,3.53683663079229,3.5440915138848,3.58901142129293,3.495528560118353,3.515493662289763,3.494525242538559,3.460116215942469,3.462329552080068,3.225474941893835,3.199462014386607,3.262615235183442,3.289861537482723,3.329371017615684,3.327790436507314,3.369376196629144,3.344347634008053,3.309001832424467,3.354929114281126,3.393582705715346,3.405781924355828,3.431606910972107,3.400547087455645,3.404749947023104,3.383556932117855,3.40034602286503,3.384569056732927,3.385191993976747,3.386341928866432,3.397247503003931,3.389583685904135,3.410007003435777,3.448859564031812,3.462749453120675,3.427651845348325,3.429970812462123,3.442624065058761,3.44991593052946,3.463790000703157,3.432125638208075,3.433223091944603,3.367761665461532,3.387938893350167,3.420733386848418,3.338441582510428,3.351617066973256,3.109967778426305,3.085868650372354,3.116858843115998,3.105688428915051,3.168969005195509,3.206201990047508,3.24612614443869,3.202948701833424,3.196651713146534,3.168173684768465,3.21091647995976,3.20537165607071,3.212339262262931,3.157059230571496,3.23292851624842,3.17655881841583,3.184835637870049,3.169010764981262,3.177452014700787,3.205274841067084,3.194063064178922,3.266064272618367,3.288771830625384,3.310132524318677,3.310725354969481,3.362138454771992,3.349852429043154,3.40388079641251,3.348913204531088,3.386265176999343,3.380456828543128,3.343561711382263,3.243793275848955,3.309079646835217,3.30768427464293,3.295294971057597,3.246298557916456,2.970597098613468,2.989038750937061,3.104406814961712,3.064119446002885,3.059164730213569,3.116621140844425,3.150710078262411,3.06357684064542,3.108145917022954,3.028662687367963,3.031119603367354,3.053273056633342,3.028524573748668,3.066517046345954,2.968769368087294,3.017837910760993,3.04380389970834,3.008182523196812,3.032630682547027,3.068099044804995,3.022325343413103,3.012186801038797,3.007183448995969,3.143017746481183,3.064854355571845,3.152917473240265,3.101525611882892,3.143115649562251,3.159689305902973,3.175608864281814,3.13899425969878,3.10559280190598,3.01446875408269,3.075221499840657,3.073292949404402,3.052971060302291,3.098437046816199],[0.01165244474288513,0.01320807373133841,0.01179752816887899,0.01204587838731676,0.01217575867630735,0.01345291983686705,0.01213457410551232,0.01434017409992087,0.01340862547958145,0.01370756830634342,0.01430865073249862,0.01519462315789433,0.01336441700956351,0.01338979100503551,0.01358634083030892,0.01475750068244966,0.01485247670418317,0.01443674260624809,0.01660368374869432,0.01780512606537886,0.01909081381076205,0.0181791825136591,0.01648396680299257,0.01600896929321147,0.01757513243488036,0.01701796049796007,0.01665726000127514,0.01756942438417508,0.01765559584769746,0.01989165736857517,0.02013115701205026,0.01970722747827506,0.01932314450920909,0.01900044218533492,0.01845045849545909,0.01833775841666052,0.01348966937421628,0.01261529370666981,0.0108659710134746,0.01386034236042627,0.01269683587254723,0.01169615006228307,0.01155226091728562,0.01517729166399386,0.01270880518085642,0.01253106895160286,0.01239079670139495,0.01330442125376611,0.01343374116285495,0.01387093919198941,0.01327090141709419,0.01369050984437758,0.01412789635429778,0.01548541821570273,0.01847041145583471,0.01596449395580765,0.01990380325680402,0.01769779278312631,0.01564903814855523,0.0153475788116615,0.01534830301039904,0.01777059238316681,0.01780856098512155,0.01679588020965675,0.01942985157218173,0.0173443060680445,0.01774303249770877,0.01723903650047883,0.01788051623708818,0.01674331425178005,0.01802610993738117,0.01725124108145645,0.01702820185873147,0.01997658790560604,0.01705798351123177,0.0158966289744163,0.0154348830914592,0.01526365238910382,0.01381158277453786,0.01865675149983086,0.01463404537306103,0.01576360967729297,0.01481640489530804,0.0151818391760837,0.01538215018327112,0.0149775879869598,0.01746749132775014,0.01573651229772186,0.01556617719041796,0.01530463521779196,0.02023554520816433,0.02252985342433552,0.01912818417072568,0.02005752981179777,0.018892506540787,0.01827601457702453,0.01774352751075963,0.01864395635786295,0.01807195967256238,0.01761612270791048,0.02031818665912216,0.02020370157460348,0.02097537249273604,0.02141582862753485,0.01989604772703291,0.01975284638188793,0.01893180703702712,0.01882249768362441,0.0194388242221365,0.02458517021514349,0.02798229462568435,0.01959301004401537,0.01847774634020414,0.02113845494687931,0.02025727328994535,0.01971316324961072,0.0257752746508199,0.01888795875017594,0.01803923860852421,0.01752212064953878,0.02003110932152687,0.01874178267630476,0.01858956662294439,0.02197849054793657,0.01906418326098761,0.01696317569955525,0.01773570937874154,0.02050761581417085,0.02372165208577947,0.02326767608456701,0.02026621946542328,0.01950511264430156,0.01826218069318207,0.01788607937244526,0.01920302879963294,0.01987065294526974,0.01943048889338805,0.02035142965206775,0.02342947616649827,0.01878701935463096,0.0196910929263029,0.0194487669540661,0.01899560083900384,0.01914378732138659,0.02034571678051269,0.01956375562997337,0.0196722693422479,0.0237307637215234,0.02042793428317292,0.01879046754286795,0.02202206114779211,0.02141194154616321,0.02049743026282608,0.02601007115966824,0.02199177902432727,0.02106704785103578,0.02346233478651222,0.023792950202635,0.02250827219207397,0.0228312608078259,0.02322447751458113,0.02343478002001692,0.0220098701642395,0.02164784580537767,0.02588773280583459,0.02500024748226818,0.02549354007454781,0.02347017462543698,0.02321971142054141,0.02212617608279558,0.02075889269803517,0.02088522495717237,0.02125610776183206,0.02101682047841968,0.01921821116313047,0.02257772685758777,0.02114681612397606,0.01836617797429664,0.01880824790446336,0.01850210223975438,0.01923334818589908,0.01765248963975469,0.02677510033220427,0.02260318826946925,0.024421837661435,0.02075682121088079,0.02276337824172369,0.02117241788622067,0.02124201114632247,0.02447308628877777,0.02939333499855848,0.02663069828178322,0.02050927065802433,0.0228556439228329,0.02344913199223721,0.02209879072705935,0.02482344784151888,0.02635379739101136,0.02637887776283613,0.02511406727688592,0.02496801770744811,0.02661348410498764,0.03156753759017361,0.03089072571671901,0.02922006488626583,0.026001947130021,0.02353106092232446,0.02613590834305915,0.02677663226364455,0.02307591769207205,0.02718592405694221,0.02352820902333948,0.02272237626261675,0.02304544818965514,0.02163387404414176,0.01954777567034769,0.01992940732688746,0.0207041797638012,0.02045217541179867,0.04102527470902336,0.03218903381112288,0.03938363541495236,0.03701859522701072,0.03611015773721043,0.03488798845410569,0.03519225299897609,0.03367263165293867,0.04815582584314988,0.03784730514807563,0.03110155237177857,0.03392641838354055,0.03410886501942829,0.03253443829813533,0.03275492504976634,0.03617024497343028,0.03074943042331962,0.02874443369630848,0.03032279841832274,0.03342714775490135,0.03674585704168541,0.04113103971492657,0.03540425725953947,0.03135533951248547,0.03163836092580984,0.03165041681689106,0.03359692573478736,0.03129648051142243,0.02979901025698493,0.03166616912913415,0.03304811428251145,0.03461947961014388,0.02933020132421234,0.02820677260992664,0.02944548081338373,0.03141009558660122,0.02693819819618922],[4.136180159197988,4.142818688249721,4.117871190817595,4.113754299075799,4.130425131548619,4.135715236817458,4.096972353066268,4.070938638306445,4.039932673931696,4.114611370962841,4.142002970951144,4.157243437908157,4.142347129514782,4.140087559552883,4.120636117404909,4.095478036418557,4.112841299835703,4.104678121709484,4.077617882530242,4.093842971516893,4.086899091485679,4.111060042872313,4.045637591024847,4.076395694237994,4.077091015009651,4.103289725674394,4.108123028125784,4.085444910118103,4.097174981135058,4.074498017240954,4.072338351959395,3.971929059785108,4.03634689761604,4.039090106417454,3.940332513468913,3.910072049081823,4.04428841893715,4.062187028358932,4.065898526655609,4.031865093188732,4.059847356030694,4.061570915006333,4.030799857695963,3.971376400733656,3.983861324147808,4.055398528448411,4.037931458698461,4.055370315562777,4.052147264391093,4.023156808805516,4.027316751943556,4.020131775437927,3.993729740214076,3.961282440231975,3.98395048482621,3.937244030382424,3.929009040957002,3.89894640124045,3.919899373589424,3.916601548060743,3.906246083851398,3.931776440557128,3.948711404918937,3.933294981831363,3.89253291175598,3.98799250390363,3.924522628551346,3.814215261296436,3.829560926206534,3.887189436153363,3.769453800327426,3.777311226748509,3.791369106844111,3.836831064171478,3.837814550174639,3.884507196594989,3.883375529202208,3.890630841493704,3.892523165787677,3.875109904882571,3.834106082647259,3.848361651650679,3.876926184368475,3.858798779894952,3.843056423779181,3.845461210044605,3.780237451574262,3.796166900938327,3.772013947104471,3.789913601940197,3.7595299920228,3.725220298906339,3.758387732658578,3.704376259263773,3.746205983045559,3.719848782643967,3.694134462728973,3.723913027596844,3.763555676729367,3.725946984382816,3.713833776930014,3.714358169744064,3.748962608952156,3.623464681525127,3.671852442518008,3.653674507990669,3.6148116856945,3.612320416586241,3.503202630727078,3.358343218779254,3.51373827392284,3.529789543191289,3.566870458199992,3.586619047275641,3.594360912610685,3.554670726870449,3.55033358684183,3.540336211622698,3.594099700850561,3.601071443096921,3.624177715709484,3.592620463307556,3.549285735002243,3.550880798586544,3.538789073009434,3.545981309614109,3.55925483156369,3.515092447353878,3.497136864962693,3.503206354991872,3.521626855923857,3.487518367232227,3.500984145420895,3.536116697070283,3.453394719253618,3.512914892304901,3.503537988987997,3.496927035473056,3.498145802535151,3.552169668525857,3.456913899452372,3.477354208115544,3.457274456952922,3.422574833448174,3.422431159825964,3.187109992430086,3.160884267177565,3.216078692398295,3.249801914921194,3.292522502876628,3.284604696560316,3.327386914464898,3.304151728321865,3.25799551827585,3.311802758235582,3.352269767573905,3.359771776539065,3.384948419147609,3.356407877096555,3.359977348977362,3.338013227574552,3.3543899105435,3.341407223569307,3.342740098439373,3.335575522885299,3.348221475007089,3.339590300425857,3.363981481524702,3.40332520590238,3.419359541526097,3.386943206151088,3.389014432962405,3.400940376328296,3.408701489356012,3.426102671439672,3.38785022574225,3.391753726488384,3.331745191776562,3.351055510936062,3.384450362728358,3.300724569216713,3.317000151604462,3.057461225463742,3.041543307525134,3.068967089333439,3.064983851949089,3.12432952633543,3.164682418979786,3.204470099477236,3.154956448380184,3.139010745168839,3.115950307361335,3.170697355001566,3.160551242207151,3.166355005412336,3.113723022253974,3.184249196184904,3.124878449666233,3.13310608596688,3.119761533896472,3.128489189991984,3.153085221034321,3.132158437723329,3.205486888938275,3.231470649099095,3.259142141568548,3.264580433708542,3.310885371175179,3.297342871929783,3.358628420905958,3.295601017326502,3.340125848374219,3.335897755454114,3.298369087231356,3.201368779238652,3.270746034419173,3.268602274264276,3.254693625112054,3.206191397975487,2.890145644367295,2.925915356901275,3.027174651006522,2.99152517719453,2.988351927042301,3.048205038167137,3.081697306207916,2.997544079037152,3.013711297218818,2.95444330041547,2.970128784040244,2.986742613737378,2.961636349039331,3.00271630661339,2.904536249048642,2.946907275215175,2.983503599165722,2.951814064758627,2.973167016627172,3.002547682449535,2.950265920106539,2.931527939320191,2.937754931984502,3.081529245062152,3.002810843017697,3.090850318822007,3.035641311223479,3.081742571921965,3.101252799937451,3.11351081923731,3.074186190210412,3.037703250900263,2.956951592610841,3.019907406463957,3.015549722351897,2.99137518103332,3.045610655401972],[4.181881553362308,4.194621326843296,4.164141608477357,4.160998757074225,4.178178985679128,4.188478172466739,4.14456467952212,4.127181423694945,4.092521885188694,4.168373048964794,4.19812212032405,4.216837409597337,4.19476295323309,4.192602901183027,4.173922335982849,4.153357594781676,4.171093358279379,4.161299652972255,4.142738251029917,4.163675448942381,4.161774092065794,4.182359585927355,4.110288424466053,4.139183566824154,4.146021447431312,4.170034905570224,4.173453525014057,4.154352955317087,4.16642099455505,4.152513961022873,4.151293623740733,4.049221661530376,4.112133109281938,4.113610665559222,4.012696012701832,3.981993533712898,4.097195487867371,4.111664757960628,4.108515336708974,4.086225957663376,4.109644897547058,4.107443723330768,4.07610832654687,4.030902397551324,4.033705809810999,4.104545924904174,4.086528701299089,4.107550833322175,4.10483498044827,4.077559234513605,4.079365803448286,4.073826549411469,4.049139963068353,4.022016922762543,4.056392240435965,3.999857468764421,4.00707262143986,3.968357912873145,3.981275580600084,3.97679541846446,3.966442794594003,4.001473475381725,4.018557354248781,3.999169153195007,3.968737633155468,4.056017625293395,3.994111572308683,3.881827510872005,3.899689087158478,3.952857441548101,3.840152986092767,3.844971343220525,3.858154453801508,3.915180109206832,3.904716702066092,3.946854465573659,3.943911810781546,3.950495548824543,3.946692793049603,3.948282494234701,3.89150144392723,3.910187213171092,3.93503676761171,3.918342612252462,3.903385884603243,3.90420396037095,3.848745710900595,3.857886185359647,3.833065169839966,3.849939045704391,3.838894678841237,3.813583362154384,3.833409301412877,3.783042761969247,3.82030321390346,3.791528105255424,3.763725347948986,3.797035433846685,3.834434687146623,3.795038182434864,3.793522587106928,3.793597964449206,3.831228930499766,3.707458491155513,3.749885605476403,3.731146029056419,3.689063054804858,3.686143069666965,3.57944254324923,3.454767323710985,3.623486048276488,3.60663417920072,3.639340981544683,3.669524985288512,3.673810817909176,3.631986608968593,3.651425333037835,3.614415605848383,3.664850377834097,3.669793960995003,3.702740596105088,3.666126548625386,3.62219482235044,3.637081392696318,3.613559627417186,3.612511621152152,3.628815053730511,3.595524206900827,3.590174214302024,3.594463190745397,3.601111848510965,3.564018265823977,3.572609210939333,3.606266676880617,3.528709831891819,3.590848455826723,3.579745209988925,3.576746226111525,3.590037225234449,3.625853174060002,3.534143220784334,3.553633116463982,3.531776028124196,3.497657598436764,3.502227944334172,3.263839891357584,3.23803976159565,3.30915177796859,3.329921160044252,3.366219532354739,3.370976176454312,3.41136547879339,3.384543539694242,3.360008146573084,3.39805547032667,3.434895643856788,3.451792072172592,3.478265402796606,3.444686297814735,3.449522545068846,3.429100636661158,3.44630213518656,3.427730889896546,3.427643889514122,3.437108334847564,3.446273531000773,3.439577071382413,3.456032525346852,3.494393922161245,3.506139364715253,3.468360484545562,3.470927191961842,3.484307753789226,3.491130371702909,3.501477329966642,3.4764010506739,3.474692457400823,3.403778139146501,3.424822275764272,3.457016410968479,3.376158595804144,3.386233982342049,3.162474331388867,3.130193993219573,3.164750596898557,3.146393005881012,3.213608484055587,3.247721561115231,3.287782189400143,3.250940955286664,3.254292681124229,3.220397062175596,3.251135604917953,3.250192069934268,3.258323519113526,3.200395438889017,3.281607836311936,3.228239187165427,3.236565189773218,3.218259996066053,3.22641483940959,3.257464461099847,3.255967690634516,3.326641656298459,3.346073012151673,3.361122907068806,3.356870276230421,3.413391538368805,3.402361986156525,3.449133171919062,3.402225391735674,3.432404505624466,3.425015901632141,3.388754335533169,3.286217772459259,3.34741325925126,3.346766275021583,3.33589631700314,3.286405717857426,3.051048552859641,3.052162144972848,3.181638978916902,3.136713714811239,3.129977533384837,3.185037243521713,3.219722850316906,3.129609602253687,3.202580536827089,3.102882074320457,3.092110422694463,3.119803499529306,3.095412798458004,3.130317786078519,3.033002487125946,3.08876854630681,3.104104200250958,3.064550981634997,3.092094348466881,3.133650407160456,3.094384766719666,3.092845662757403,3.076611966007437,3.204506247900215,3.126897868125994,3.214984627658523,3.167409912542305,3.204488727202537,3.218125811868496,3.237706909326318,3.203802329187147,3.173482352911698,3.07198591555454,3.130535593217358,3.131036176456906,3.114566939571261,3.151263438230426]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>age_group<\/th>\n      <th>year<\/th>\n      <th>mean_srh<\/th>\n      <th>se<\/th>\n      <th>ci_lower<\/th>\n      <th>ci_upper<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,25,50,100,256],"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"name":"age_group","targets":0},{"name":"year","targets":1},{"name":"mean_srh","targets":2},{"name":"se","targets":3},{"name":"ci_lower","targets":4},{"name":"ci_upper","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "SRH-Age Over Time Phenomenon"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Christine L. Kuryla"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">  gfm:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: false</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu"># SRH-Age Relationship over Time</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>**Purpose**: Determine the relationship between age and SRH (Self-Rated Health) over time using six datasets.</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>**Data**: NHIS, BRFSS, MEPS, CPS, NHANES, GSS</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>**Outputs**: Visualizations and tables of:</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Weighted mean SRH by age group over time. </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Weighted regression results showing the relationship between age and SRH over time for different age groups.</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Load packages and source functions</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/paths.R"</span>)) <span class="co"># To access path for data as depot_path and derived_path</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="fu">ensure_dirs</span>()</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/srh_common_functions.R"</span>)) <span class="co"># Common SRH functions</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/srh_and_age_over_time.R"</span>)) <span class="co"># Functions for this analysis/exploration</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(srvyr)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Load data</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load-data</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>data_nhis <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_rds</span>(<span class="fu">derived_path</span>(<span class="st">"data_nhis.rds"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(srh, age, year, psu, wt, strata) <span class="sc">|&gt;</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wt <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(srh, age, year, wt) <span class="sc">|&gt;</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_age_group</span>(<span class="at">scheme =</span> <span class="st">"B"</span>, <span class="at">new_var =</span> age_group)</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu"># SRH per age group over time (figures and tables)</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="fu">## NHIS</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: mean-srh-nhis</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a><span class="co"># data_x * 1, namestring *2, srh_means_x * 3</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>srh_means_nhis <span class="ot">&lt;-</span> <span class="fu">summarize_srh_over_time</span>(data_nhis, </span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">survey_name =</span> <span class="st">"NHIS"</span>, </span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">age_group_var =</span> <span class="st">"age_group"</span>) <span class="co">#,</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>                                        <span class="co">#  title_style = "dataset") # Comment out for descriptive title</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>                                          </span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>srh_means_nhis<span class="sc">$</span>plot</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="fu">table_render</span>(</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>  srh_means_nhis<span class="sc">$</span>estimates,</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Table. Self-rated health by age group and year (NHIS)"</span>)</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="co"># library(DT)</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="co"># table_mean_srh(</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a><span class="co">#   srh_means_nhis$estimates,</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="co">#   caption = "Table. Self-rated health by age group and year (NHIS)")</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>